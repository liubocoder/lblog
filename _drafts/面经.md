https://github.com/OUYANGSIHAI/JavaInterview

##java

###HashMap 1.7，1.8的差异，1.8中什么情况下转换为红黑树，构造函数中参数代表的意思。
1. 1.8 冲突链表长度达到8后采用红黑树，当红黑树数据小于或等于6时转回链表
2. 哈希计算符号从%改为&，提高效率
3. 解决老版本多线程操作时get出现的死循环，但依然不能在多线程环境中使用HashMap


###用什么Map可以保证线程安全，为什么？ConcurrentHashMap为什么能保证线程安全？1.7和1.8原理有什么差异。
HashTable
Collections.synchronizedMap
ConcurrentHashMap

在 JDK1.7 中，ConcurrentHashMap 采用了分段锁策略，将一个 HashMap 切割成 Segment 数组，其中 Segment 可以看成一个 HashMap， 不同点是 Segment 继承自 ReentrantLock，在操作的时候给 Segment 赋予了一个对象锁，从而保证多线程环境下并发操作安全。

JDK1.7 中，HashMap 容易因为冲突链表过长，造成查询效率低，所以在 JDK1.8 中，HashMap 引入了红黑树特性，当冲突链表长度大于 8 时，会将链表转化成红黑二叉树结构。

在 JDK1.8 中，与此对应的 ConcurrentHashMap 也是采用了与 HashMap 类似的存储结构，但是 JDK1.8 中 ConcurrentHashMap 并没有采用分段锁的策略，而是在元素的节点上采用 CAS + synchronized 操作来保证并发的安全性


###有多少种单例模式，枚举算不算单例，单例模式中不用volatile会导致什么问题？volatile特性是什么？
1.静态变量+构造函数方式实现单例
2.枚举方式实现
在双重锁实现单例模式时，不加volatile可能发生重排序，导致得到一个未初始化完全的对象。我对于这个问题，并未做实际的测试，是看过其他博主的文章得到的结论。


###线程池都什么时候用，怎么创建，构造函数中的参数分别代表什么意思？
newCachedThreadPool
newFixedThreadPool
newScheduledThreadPool
newSingleThreadExecutor
newSingleThreadScheduledExecutor
newWorkStealingPool

关键词：核心线程数量、最大线程数量、保活时长，队列选取（根据不同方法），线程工厂


###thread wait sleep join 有什么区别，主要考察wait sleep相关区别。
三者都会阻塞线程，直到某种条件触发
join是用于等待线程执行结束，内部是wait实现，但是要区别与wait，线程调用自己的join会死锁。内部是调用thread的wait方法，因此会释放该thread的锁。
wait notify或notifyAll会唤醒wait，wait会释放当前对象的锁，例如obj.wait()，释放obj的锁。多个线程wait，notify将唤醒某个线程。
sleep Thread静态方法，可以用阻塞线程，不会释放锁。


##Android

###Activity启动流程，Launcher启动流程。

为什么android中不推荐使用枚举。
传说是枚举更占内存。。

事件分发的流程，以及怎么解决滑动冲突？

事件是怎么产生的？mFirstTarget 为什么是一个链表？

自定义View需要经历哪几个过程？

A 跳转到 B页面，两个页面的生命周期怎么走？什么情况下A的stop()不会执行。

Activity 的4中启动模式分别是什么，有什么不同。

哪个场景会发生内存泄露，内存泄露怎么检测，怎么解决。以及leak cannery内部原理是什么？为什么新版本的不需要在Application中注册了。

手机适配问题怎么处理，都有什么方案。

Android9 10 11 都更新了什么新特性，新版本中无法获取IMEI怎么处理。

数据序列化有那俩种方式，Serialization和Parcelable区别，如果持久化需要用哪一个？

组件化怎么分层，各个组件之间怎么通信。

怎防止程序崩溃，如果已经到了Thread.UncaughtExceptionHandler是否可以让程序继续运行。

Handler Looper mesaageQueue message 之间的关系。

子线程一定不能更新ui么？什么时候可以？什么时候不可以。检测逻辑是在什么阶段初始化的。

ANR发生的原理是什么， 怎么排查。

程序怎么保活。

进程优先级。

本地广播和正常广播的区别。

自定义view，实现一个自定义View，且支持按下放大，松开缩小动画。

打渠道包 怎么写入渠道数据（app签名在哪）这里涉及V1,V2,V3签名差异。

渠道包：是在ZIP文件中插入不影响解压的自定义渠道信息字段，例如工具ZIPalign

V2版签名也是在ZIP文件中插入签名信息完成的。

V2版签名是ZIP文件中添加了自定义块，签名是对ZIP原始的3个块进行分段签名，提高签名效率。

V1版本定义了基本的签名哪些文件、签名算法
V2版本优化了签名速度，可签名校验安装包
V3版本在V2基础上，添加新字段，记录了旧的签名信息和新的签名信息，意味着后续可更改apk签名了



rgb565和rgb888有什么区别，主要考察数据存储位。

arouter drouter使用

##开源库

Glide中怎么实现图片的加载进度条，Glide的缓存是怎么设计的？为什么要用弱引用。

okhttp中有几个队列？分别干什么用的？怎么取消一个请求？

Rxjava中map和flatMap有什么区别，都用过什么操作符。

如果Rxjava组合发送任务，中间任务出现异常，其他任务该怎么处理。

说下路由ARoute的实现原理，怎么处理页面过多内存占用过大问题。

##设计模式

单例模式
实现单例的方案

mvvp 和mvp的区别，细节里怎么实现的双向绑定
MVC Model模块：数据存取，View模块：数据展示，Controller模块：数据处理
MVP Model模块：数据存取，与Presenter交互；Presenter模块：数据处理，处于中间的模块，承上启下；View模块：数据展示和用户操作
MVVM Model模块：数据存取，View：视图，ViewModel与View形成双向绑定
Android中使用ViewModel+LiveData+DataBinding完成MVVM框架

##算法

反向输出字符串。

两个有序链表合并。

字符串移除多余空格，且技术单词首字符大写。

二叉树中和为某一值的路径。

二进制低位转高位。

字符串数组判重。

二叉树 判断是否为搜索二叉树。

##构建工具

###gradle
implementation 和 api的区别是什么？
管理本地模块依赖
    implementation不会传递依赖，优化编译速度，例如A->B->C，C的改变只重新编译BC
    api 传递依赖，ABC都需要重新编译
管理远端依赖
    两者无差别